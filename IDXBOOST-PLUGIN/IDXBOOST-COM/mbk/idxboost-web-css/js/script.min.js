function loadImage(t){ie?(t.css("backgroundImage","url("+t.find(".gs-lazy").attr("data-lazy")+")"),t.find(".gs-lazy").remove(),t.hasClass("loaded")||t.addClass("loaded")):(t.hasClass("loading")||t.addClass("loading"),t.find(".gs-lazy").attr("src",t.find(".gs-lazy").attr("data-lazy")),t.find(".gs-lazy").on("load",function(){t.removeClass("idx-blazy loading"),t.find(".gs-lazy").removeAttr("data-lazy"),t.hasClass("loaded")||t.addClass("loaded")}))}function loadPropertySlider(t){var e=$("#"+t);if(e.removeClass("idx-blazy"),e.length)var n=e.greatSlider({type:"swipe",nav:!1,navSpeed:500,lazyLoad:!0,bullets:!0,items:1,layout:{bulletDefaultStyles:!1,wrapperBulletsClass:"idx-gs-wrapper-bullets"},onInited:function(){$a=0,$imgCount=0,$mapCount=0,$vidCount=0,$htmlButtonImg="",$htmlButtonMap="",$htmlButtonVid="",e.find(".img-slider").each(function(){var t=$(this).attr("data-lazy");$(this).hasClass("idx-img-map")?(e.find(".gs-bullet:eq("+$a+")").css({background:"url("+t+")"}),$mapCount+=1):$(this).hasClass("idx-img-vid")?(e.find(".gs-bullet:eq("+$a+")").addClass("idx-ico-play").html("<span></span>"),$vidCount+=1):(e.find(".gs-bullet:eq("+$a+")").css({background:"url("+t+")"}),$imgCount+=1),$a+=1}),0<$imgCount&&($htmlButtonImg='<button id="idx-btn-img" class="idx-btn-nav idx-icon-img active"><span>Photos<label>('+$imgCount+")</label></span></button>"),0<$mapCount&&($htmlButtonMap='<button id="idx-btn-map" class="idx-btn-nav idx-icon-map"><span>Mapa<label>('+$mapCount+")</label></span></button>"),0<$vidCount&&($htmlButtonVid='<button id="idx-btn-vid" class="idx-btn-nav idx-icon-vid"><span>Video<label>('+$vidCount+")</label></span></button>"),$(".idx-media-nav").html($htmlButtonImg+$htmlButtonMap+$htmlButtonVid);var t=e.find(".idx-img-map:eq(0)").parents(".gs-item-slider").index()+1,i=e.find(".idx-img-vid:eq(0)").parents(".gs-item-slider").index()+1;$(document).on("click",".idx-media-nav .idx-btn-nav",function(){switch($(".idx-media-nav .idx-btn-nav").removeClass("active"),$(this).addClass("active"),$(this).attr("id").split(" ")[0]){case"idx-btn-img":n.goTo(1);break;case"idx-btn-map":n.goTo(t);break;case"idx-btn-vid":n.goTo(i)}});var a=e.find(".gs-container-items");$("<div class='idx-gs-nav-btn'><button class='gs-prev-arrow'><span></span></button><button class='gs-next-arrow'><span></span></button></div>").appendTo(a),$(".idx-gs-nav-btn .gs-next-arrow").click(function(){n.goTo("next")}),$(".idx-gs-nav-btn .gs-prev-arrow").click(function(){n.goTo("prev")})}})}function loadGenSlider(t){function i(){n.find(".gs-item-slider").removeClass("gs-item-active-b");var t=0,i=s.getActive().index,a=s.getItems(),e=i-(a-1);if(1==i&&(i=2),1<a)for(t=e;t<=i;t++)n.find(".gs-item-slider:nth-child("+t+")").addClass("gs-item-active-b")}var n=$("#"+t);if(n.length)var s=n.greatSlider({type:"swipe",nav:!1,lazyLoad:!0,bullets:!1,items:1,layout:{arrowDefaultStyles:!1,itemLoadingClass:""},breakPoints:{640:{items:2,nav:!0},1100:{items:3},1400:{items:4}},onInited:function(){setTimeout(function(){i()},300),n.find(".idx-grid-ng-img").each(function(){loadImage($(this))})},onStepStart:function(){i()},onResized:function(){setTimeout(function(){i()},300)}})}function creaIframeVideo(t){if(void 0!==(i=t.attr("data-video"))){var i;if(-1!==(i=i.toString()).indexOf("youtube")){var a=i.lastIndexOf("&");-1!==a&&(i=i.substring(0,a));var e=i.indexOf("embed");-1!==e&&(i="https://www.youtube.com/watch?v="+i.substring(e+6,e+17));var n="https://www.youtube.com/embed/"+i.substring(i.length-11,i.length)+"?autoplay=1"}else{if(-1===i.indexOf("vimeo"))return alert("The video assigned is not from Youtube or Vimeo, remember to enter the correct complete link of the video .\n - Youtube: https://www.youtube.com/watch?v=9RBSH7Xvn3Q\n - Vimeo: https://vimeo.com/206418873"),!1;n="https://player.vimeo.com/video/"+i.substring(i.indexOf(".com")+5,i.length).replace("/","")}return'<iframe src="'+n+'" frameborder="0" allowfullscreen></iframe>'}return alert("No video assigned."),!1}function loadElement(t){t.each(function(){switch($(this).attr("data-type").split(" ")[0]){case"img":loadImage($(this));break;case"graph":graphGenerator($(this).find("canvas").attr("id"));break;case"main-slider":loadPropertySlider($(this).attr("id"));break;case"gen-slider":loadGenSlider($(this).attr("id"));break;case"st-slider":loadStandarSlider($(this).attr("id"))}})}var userAgent,ieReg,ie;userAgent=window.navigator.userAgent,ie=(ieReg=/msie|Trident.*rv[ :]*11\./gi).test(userAgent),function(e){e(document).on("load, scroll",onScroll);var t=e("#idx-home-slider");if(t.length)t.greatSlider({type:"swipe",nav:!0,navSpeed:800,lazyLoad:!0,items:1,layout:{arrowDefaultStyles:!1}});e(document).on("click",".idx-btn-sm",function(){e(this).toggleClass("active"),e(this).parents(".idx-wrap").find(".idx-basic-list").toggleClass("active")}),e(document).on("click","#idx-internal-nav li a",function(t){t.preventDefault(),e(document).off("scroll"),e("#idx-internal-nav li a").each(function(){e(this).removeClass("active")}),e(this).addClass("active");var i=this.hash;$target=e(i),e("html, body").stop().animate({scrollTop:$target.offset().top-30},500,"swing",function(){e(document).on("scroll",onScroll)})}),e(document).on("click",".idx-btn-play",function(t){t.preventDefault();var i=creaIframeVideo(e(this));if(i){var a=e("#idx-wrap-video");(a=e("body")).append('<div class="idx-video-inside"><div class="idx-iframe"><div class="idx-wrap-iframe">'+i+'</div></div><button class="idx-modal-close"><span></span></button><div class="idx-modal-bg-close"></div></div>'),setTimeout(function(){a.find(".idx-video-inside").addClass("active")},500)}}),e(document).on("click",".idx-modal-close, .idx-modal-bg-close",function(){var t=e(this).parent();e("body").find(".idx-video-inside").removeClass("active"),setTimeout(function(){t.remove()},500)});e(window).on("load scroll",function(){var a=e(document).scrollTop();e(".idx-load-element").each(function(){var t=e("#"+e(this).attr("id"));if(t.offset().top-700<=a){var i=t.find(".idx-blazy");i.length&&(i.hasClass("loaded")||(i.addClass("loaded"),loadElement(i)))}})})}(jQuery);
//# sourceMappingURL=script.min.js.map